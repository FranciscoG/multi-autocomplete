function MultiComplete(t){"use strict";if(this.input=t.input,this.$input=$(t.input),!t.input||!this.$input.length)return void this.warn("input not set or doesn't exist");if(this.previewContainer=$(t.input),!t.previewContainer||!this.previewContainer.length)return void this.warn("preview container not set or doesn't exist");if(!t.datasets)return void this.warn("datasets missing");this.datasets=t.datasets;var i="";for(var n in this.datasets)i+=n;this.markers=new RegExp("["+i+"]","i"),this.keycodes={up:38,down:40,left:37,right:39,enter:13,esc:27,tab:9,shift:16,del:8},this.currentText="",this.lastCursorPos=0,this.startPosition=null,$("body").on("keyup",t.input,this.onKeyUp.bind(this))}MultiComplete.prototype={warn:function(t){console&&console.warn&&console.warn("mutli-autocomplete:",t)},goForward:function(t,i){for(var n=t.length,s=i,e=t.length;e>s;s++)if(" "===t[s]){n=s;break}return n},goBackward:function(t,i){for(var n=0,s=i;s>-1;s--)if(" "===t[s]){n=s+1;break}return n},onKeyUp:function(t){var i=this.$input.val();if(i){var n,s=this.$input.get(0).selectionStart,e=i.split(""),o=e[s-1];n=" "===e[s]?s:mc.goForward(e,s);var r;return r=" "===o?s:mc.goBackward(e,s),void console.log(r,n,i.substring(r,n))}},beginFiltering:function(){var t,i=this.$input.val();null!==this.startPosition&&(t=i.substring(this.startPosition,this.lastCursorPos),/\s/.test(t)?this.stopFiltering():this.findData(t))},stopFiltering:function(){this.shouldTrack=!1},findData:function(t){console.log(t);var i=t.substr(1),n=this.datasets[this.markerKey];n.forEach(function(t,n,s){t.indexOf(i)>=0&&console.log("found:",t)})},replaceInPlace:function(t){var i=this.$input.val(),n=i.slice(0,this.startPosition)+t+i.slice(this.lastCursorPos,i.length-1);console.log(n)}};