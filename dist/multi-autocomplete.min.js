function MultiComplete(t){"use strict";if(!(this instanceof MultiComplete))return new MultiComplete(t);if(this.input=t.input,this.$input=$(t.input),!t.input||!this.$input.length)return void this.warn("input not set or doesn't exist");if(this.previewContainer=$(t.input),!t.previewContainer||!this.previewContainer.length)return void this.warn("preview container not set or doesn't exist");if(!t.datasets)return void this.warn("datasets missing");this.datasets=t.datasets;var i="";for(var e in this.datasets)i+=e;this.markers=new RegExp("["+i+"]","i"),this.keycodes={up:38,down:40,left:37,right:39,enter:13,esc:27,tab:9,shift:16,del:8},$("body").on("keyup",t.input,this.onKeyUp.bind(this))}MultiComplete.prototype={warn:function(t){console&&console.warn&&console.warn("mutli-autocomplete:",t)},goForward:function(t,i){for(var e=t.length,n=i,s=t.length;s>n;n++)if(" "===t[n]){e=n;break}return e},goBackward:function(t,i){for(var e=0,n=i-1;n>=0;n--)if(" "===t[n]){e=n;break}return e},onKeyUp:function(t){var i=this.$input.val();if(i){var e,n,s=this.$input.get(0).selectionStart,o=i.split(""),r=o[s-1];n=" "===o[s]?s:mc.goForward(o,s),e=" "===r?s:mc.goBackward(o,s);var a=i.substring(e,n);return void(this.markers.test(a.charAt(0))&&this.beginFiltering(a.charAt(0),a.substr(1)))}},beginFiltering:function(t,i){if(this.datasets[t]){var e=this.datasets[t];e.forEach(function(t,e,n){t.indexOf(i)>=0&&console.log("found:",t)}),console.log("-------")}},replaceInPlace:function(t){var i=this.$input.val(),e=i.slice(0,this.startPosition)+t+i.slice(this.lastCursorPos,i.length-1);console.log(e)}},"object"==typeof exports&&(module.exports=MultiComplete);