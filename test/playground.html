<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" href="test.css" />
  </head>

  <body>
    <div class="container cf">
      <h1>Multi-Autocomplete Testing Playground</h1>

      <div class="chat-area">
        
        <ul id="chatOutput">
          <li>hello</li>
        </ul>
        <div id="preview-container"></div>
        <input type="text" id="chatInput" placeholder="enter a chat message" autocomplete="off" maxlength="255" />
        <p>Press enter to submit chat</p>
      </div>

      <div class="example-data cf">
        <ul id="emojis">
          <li class="data-title">:emojis:</li>
        </ul>
        <ul id="mentions">
          <li class="data-title">@mentions</li>
        </ul>
      </div>

    </div>

    <script src="jquery-2.2.0.min.js"></script>
    <script src="../dist/multi-autocomplete.js"></script>
    <script src="testdata.js"></script>
    <script>
      'use strict';
      
      /* playground setup */
      var chatOutput = document.getElementById('chatOutput');
      var createChatMessage = function(str){
        var li = document.createElement('li');
        li.textContent = str;
        chatOutput.appendChild(li);
      };

      $('#chatInput').keyup(function (e) {
        // console.log(e.keyCode);
        if (e.keyCode === 13) {
          createChatMessage($(this).val());
          $(this).val("");
        }
      });

      function makeLlist(arr, target) {
        var tmp = document.createDocumentFragment();
        arr.forEach(function(el,i,r){
          var li = document.createElement("li");
          li.textContent = el;
          tmp.appendChild(li);
        });
        document.getElementById(target).appendChild(tmp);
      }

      for (var key in datasets) {
        if (key === "@") {
           makeLlist(datasets["@"], "mentions");
        }

        if (key === ":") {
          makeLlist(datasets[":"], "emojis");
        }
      }

      var mc = new MultiComplete({
        input: "#chatInput",
        previewContainer: "#preview-container",
        datasets : datasets
      });

    </script>
    
  </body>
</html>