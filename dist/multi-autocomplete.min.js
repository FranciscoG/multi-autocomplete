function MultiComplete(t){"use strict";if(this.input=t.input,this.$input=$(t.input),!t.input||!this.$input.length)return void this.warn("input not set or doesn't exist");if(this.previewContainer=$(t.input),!t.previewContainer||!this.previewContainer.length)return void this.warn("preview container not set or doesn't exist");if(!t.datasets)return void this.warn("datasets missing");this.datasets=t.datasets;var i="";for(var s in this.datasets)i+=s;this.markers=new RegExp("["+i+"]","i"),this.keycodes={up:38,down:40,left:37,right:39,enter:13,esc:27,tab:9,shift:16,del:8},this.currentText="",this.lastCursorPos=0,this.startPosition=null,$("body").on("keyup",t.input,this.onKeyUp.bind(this))}MultiComplete.prototype={warn:function(t){console&&console.warn&&console.warn("mutli-autocomplete:",t)},onKeyUp:function(t){var i=this.$input.val();if(i){var s=this.$input.get(0).selectionStart;if(s!==this.lastCursorPos||""===i){this.lastCursorPos=s;var n=i.charAt(s-1);this.markers.test(n)&&(this.markerKey=n,this.startPosition=s-1,this.shouldTrack=!0),this.shouldTrack&&this.beginFiltering(),(" "===n||""===i)&&(this.stopFiltering(),this.startPosition=null)}}},beginFiltering:function(){var t,i=this.$input.val();null!==this.startPosition&&(t=i.substring(this.startPosition,this.lastCursorPos),/\s/.test(t)?this.stopFiltering():this.findData(t))},stopFiltering:function(){this.shouldTrack=!1},findData:function(t){console.log(t);var i=t.substr(1),s=this.datasets[this.markerKey];s.forEach(function(t,s,n){t.indexOf(i)>=0&&console.log("found:",t)})},replaceInPlace:function(t){var i=this.$input.val(),s=i.slice(0,this.startPosition)+t+i.slice(this.lastCursorPos,i.length-1);console.log(s)}};